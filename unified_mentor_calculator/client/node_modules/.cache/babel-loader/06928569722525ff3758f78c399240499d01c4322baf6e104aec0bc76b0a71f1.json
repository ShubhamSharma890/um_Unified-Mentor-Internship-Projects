{"ast":null,"code":"var _jsxFileName = \"D:\\\\Unified Mentor\\\\React\\\\UM_BasicCalcProject\\\\client\\\\src\\\\components\\\\Calculator.jsx\",\n  _s = $RefreshSig$();\nimport { ArrowUUpLeft } from \"@phosphor-icons/react\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Button from \"./Button\";\nimport { Buttons } from \"./helper/buttons\";\nimport { handleBackspace, handleButtonType, handleKeyButtonPress } from \"./helper/calculate\";\nimport InputValue from \"./InputValue\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Calculator = () => {\n  _s();\n  const buttonsRef = useRef([]);\n  const backspaceBtnRef = useRef(null);\n  const [inputValue, setInputValue] = useState([]);\n  const [result, setResult] = useState(0);\n  const [calculated, setCalculated] = useState(false);\n  const handleButtonClick = value => {\n    if (calculated && value !== \"=\") {\n      setInputValue([]);\n      // setResult(0);\n      setCalculated(false);\n    }\n\n    // //Get Clicked Button Details\n    const button = Object.values(Buttons).flat().find(item => item.value === value);\n    let resultValue;\n    if (calculated) {\n      resultValue = result.toString();\n    }\n    const lastInputValue = calculated ? {\n      value: resultValue,\n      label: resultValue,\n      type: \"number\"\n    } : inputValue[inputValue.length - 1];\n    handleButtonType(button, inputValue, lastInputValue, setInputValue, setResult, setCalculated, calculated);\n  };\n  const handleKeyPress = e => {\n    if (buttonsRef.current[e.key]) handleKeyButtonPress(e.key, buttonsRef);\n    if (e.key === \"Backspace\") backspaceBtnRef.current && backspaceBtnRef.current.click();\n    if (e.key === \"Enter\") handleKeyButtonPress(\"=\", buttonsRef);\n  };\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleKeyPress);\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyPress);\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-2 px-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"py-8 text-right\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          \"data-testid\": \"result\",\n          className: \"text-6xl text-white\",\n          children: result\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center bg-light-300 px-8 py-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-white\",\n        ref: backspaceBtnRef,\n        onClick: () => handleBackspace(inputValue, setInputValue),\n        children: /*#__PURE__*/_jsxDEV(ArrowUUpLeft, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex w-full items-center  text-2xl text-white  [first-child-auto-margin ]:ml-auto\",\n        children: /*#__PURE__*/_jsxDEV(InputValue, {\n          inputValue: inputValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex w-full flex-col gap-1 rounded-lg\",\n        children: Object.keys(Buttons).map(key => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-4 gap-1\",\n          children: Buttons[key].map(item => /*#__PURE__*/_jsxDEV(Button, {\n            dataid: item.datatestid,\n            className: \"w-full \" + item.className || \"\",\n            ref: button => {\n              buttonsRef.current[item.value] = button;\n            },\n            onClick: () => handleButtonClick(item.value),\n            children: item.label\n          }, item.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }, this))\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Calculator, \"IhJ+Qnq9fKvDEOL5t2MmvTFeoXw=\");\n_c = Calculator;\nexport default Calculator;\nvar _c;\n$RefreshReg$(_c, \"Calculator\");","map":{"version":3,"names":["ArrowUUpLeft","React","useEffect","useRef","useState","Button","Buttons","handleBackspace","handleButtonType","handleKeyButtonPress","InputValue","jsxDEV","_jsxDEV","Fragment","_Fragment","Calculator","_s","buttonsRef","backspaceBtnRef","inputValue","setInputValue","result","setResult","calculated","setCalculated","handleButtonClick","value","button","Object","values","flat","find","item","resultValue","toString","lastInputValue","label","type","length","handleKeyPress","e","current","key","click","document","addEventListener","removeEventListener","children","className","fileName","_jsxFileName","lineNumber","columnNumber","ref","onClick","keys","map","dataid","datatestid","_c","$RefreshReg$"],"sources":["D:/Unified Mentor/React/UM_BasicCalcProject/client/src/components/Calculator.jsx"],"sourcesContent":["import { ArrowUUpLeft } from \"@phosphor-icons/react\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport Button from \"./Button\";\nimport { Buttons } from \"./helper/buttons\";\nimport {\n  handleBackspace,\n  handleButtonType,\n  handleKeyButtonPress,\n} from \"./helper/calculate\";\nimport InputValue from \"./InputValue\";\n\nconst Calculator = () => {\n  const buttonsRef = useRef([]);\n  const backspaceBtnRef = useRef(null);\n  const [inputValue, setInputValue] = useState([]);\n  const [result, setResult] = useState(0);\n  const [calculated, setCalculated] = useState(false);\n\n  const handleButtonClick = value => {\n    if (calculated && value !== \"=\") {\n      setInputValue([]);\n      // setResult(0);\n      setCalculated(false);\n    }\n\n    // //Get Clicked Button Details\n    const button = Object.values(Buttons)\n      .flat()\n      .find(item => item.value === value);\n\n    let resultValue;\n    if (calculated) {\n      resultValue = result.toString();\n    }\n\n    const lastInputValue = calculated\n      ? { value: resultValue, label: resultValue, type: \"number\" }\n      : inputValue[inputValue.length - 1];\n\n    handleButtonType(\n      button,\n      inputValue,\n      lastInputValue,\n      setInputValue,\n      setResult,\n      setCalculated,\n      calculated\n    );\n  };\n\n  const handleKeyPress = e => {\n    if (buttonsRef.current[e.key]) handleKeyButtonPress(e.key, buttonsRef);\n\n    if (e.key === \"Backspace\")\n      backspaceBtnRef.current && backspaceBtnRef.current.click();\n\n    if (e.key === \"Enter\") handleKeyButtonPress(\"=\", buttonsRef);\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleKeyPress);\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyPress);\n    };\n  });\n\n  return (\n    <>\n      <div className=\"mb-2 px-4\">\n        <div className=\"py-8 text-right\">\n          <span\n            data-testid=\"result\"\n            className=\"text-6xl text-white\"\n          >\n            {result}\n          </span>\n        </div>\n      </div>\n      <div className=\"flex items-center justify-center bg-light-300 px-8 py-2\">\n        <span\n          className=\"text-white\"\n          ref={backspaceBtnRef}\n          onClick={() => handleBackspace(inputValue, setInputValue)}\n        >\n          <ArrowUUpLeft />\n        </span>\n        <div className=\"flex w-full items-center  text-2xl text-white \n        [first-child-auto-margin ]:ml-auto\">\n          <InputValue inputValue={inputValue} />\n        </div>\n      </div>\n      {/* key pads */}\n      <div className=\"flex items-center justify-between p-4\">\n        <div className=\"flex w-full flex-col gap-1 rounded-lg\">\n          {Object.keys(Buttons).map(key => (\n            <div className=\"grid grid-cols-4 gap-1\" key={key}>\n              {Buttons[key].map(item => (\n                <Button\n                  key={item.value}\n                  dataid={item.datatestid}\n                  className={\"w-full \" + item.className || \"\"}\n                  ref={button => {\n                    buttonsRef.current[item.value] = button;\n                  }}\n                  onClick={() => handleButtonClick(item.value)}\n                >\n                  {item.label}\n                </Button>\n              ))}\n            </div>\n          ))}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Calculator;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}